
port: 7890


socks-port: 7891


redir-port: 7892


tproxy-port: 7893


mixed-port: 7890








allow-lan: false





bind-address: '*'





mode: global



log-level: error


ipv6: true


external-controller: 127.0.0.1:9090




















hosts:
  
  
  
  
  
  
  
  
  
  

  
  
  
  
  

profile:
  
  
  
  store-selected: true



dns:
  enable: true
  listen: 0.0.0.0:7874
  
  cache-algorithm: arc
  
  
  
  
  
  enhanced-mode: fake-ip 
  fake-ip-range: 198.18.0.1/16 
  
  
  
  
  
  fake-ip-filter:
    - '*.lan'
    - localhost.ptlogin2.qq.com
    - '+.srv.nintendo.net'
    - '+.stun.playstation.net'
    - '+.msftconnecttest.com'
    - '+.msftncsi.com'
    - '+.xboxlive.com'
    - 'msftconnecttest.com'
    - 'xbox.*.microsoft.com'
    - '*.battlenet.com.cn'
    - '*.battlenet.com'
    - '*.blzstatic.cn'
    - '*.battle.net'
    - '*.wegame.com.cn'
    - "*.localdomain"
    - "*.example"
    - "*.invalid"
    - "*.localhost"
    - "*.test"
    - "*.local"
    - "*.home.arpa"
    - time.*.com
    - time.*.edu.cn
    - time.*.gov
    - time.*.apple.com
    - time-ios.apple.com
    - time1.*.com
    - time2.*.com
    - time3.*.com
    - time4.*.com
    - time5.*.com
    - time6.*.com
    - time7.*.com
    - ntp.*.com
    - ntp1.*.com
    - ntp2.*.com
    - ntp3.*.com
    - ntp4.*.com
    - ntp5.*.com
    - ntp6.*.com
    - ntp7.*.com
    - "*.time.edu.cn"
    - "*.ntp.org.cn"
    - "+.pool.ntp.org"
    - time1.cloud.tencent.com
    - stun.*.*
    - stun.*.*.*
    - "+.stun.*.*"
    - "+.stun.*.*.*"
    - "+.stun.*.*.*.*"
    - "+.stun.*.*.*.*.*"
    - "+.dns.google"
    
    
    
    
    
    
    
    
    
    
    
    
    

  
  
  
  default-nameserver: 
      - 1.1.1.1       
      - 8.8.8.8
  nameserver:
      - 1.1.1.1       
      - 8.8.8.8
  proxy-server-nameserver:
      - 1.1.1.1       
      - 8.8.8.8
  


  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
 














proxies:


  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  

  
  
  
  
  
  
  
  
  
  
  
  




proxy-providers:
  
  
  
  
  
  
  
  
  

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  

  
  
  
  
  
  
  
  
  
  
  

  Airport B:      
    type: http
    url:  "" 
    interval: 3600
    filter: "^((?!(每月刷新|com|机场)).)*$"
    path: ./Proxy/backup.yaml
    health-check:
      enable: true
      interval: 600
      url: https://www.youtube.com/generate_204    
 
  
  
  
  
  
  
  
  
  
  
  

proxy-groups:












  
  
  
  
  
  
  
  
  
  
  
  
  
  

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  

  - name: "✈️PROXY"
    type: select
    proxies: 
      - Auto
      - Manual

  
  - name: "Auto"
    type: fallback
    proxies:
      
      - backup(Auto)
    url: 'https://www.youtube.com/generate_204'
    interval: 300 

  - name: "main(Auto)"
    type: url-test
    use:
      - Airport A
    url: 'https://www.youtube.com/generate_204'
    interval: 300
    tolerance: 40
    filter: '香港|hk|hong'
    lazy: false
    

  - name: "backup(Auto)"
    type: url-test
    use:
      - Airport B
    url: 'https://www.youtube.com/generate_204'
    interval: 300
    tolerance: 40
    
    
   

  - name: "Manual"
    type: select
    proxies:
      
      - backup (Manual)

  - name: "main (Manual)"
    type: select
    use:    
     - Airport A

  - name: "backup (Manual)"
    type: select
    use:    
     - Airport B 
  
  
rule-providers:

  

rules:

    - MATCH,✈️PROXY
  


