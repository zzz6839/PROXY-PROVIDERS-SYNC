# 计分方式

 
**每个人默认100分**
(说明： 125 < user final score <= 150 get code name "小代"， output only Chinese code name)

|  得分   | 代号  |
|:---:|:---:|
|  180  | 通天代 |
|  150  | 小代  |
|  125  | 上等马 |
|  105  | 中等马 |
|  95   | 下等马 |
|  <95  | 牛马  |

## 整体计算流程
1 通过matchID获取对局记录(matchRecord)
2.通过对局记录和计分机制对每局游戏进行详细评分计算 
3.将游戏分为"最近5小时内"和"5小时以前"两类，分别计算平均分
4.最终得分 = 0.8 * 最近游戏平均分 + 0.2 * 较早游戏平均分 
## 战绩权重
> 最近20局 匹配normal 单排SOLO RANK 组排FLEX 大乱斗ARAM的战绩 

- 最近5小时战绩权重 **80%**
- 其他权重 **20%**


 ## 计分机制
(说明： all ranking and participants_rate are based on userteam only)

- 一血 (说明：firstbloodAssists/kills)
  - 击杀 + 10 (分)
  - 助攻 + 5
- 多杀 （说明：triple/quadra/pentakills）
  - 5杀 + 20
  - 4杀 + 10
  - 3杀 + 5
- 参团率 （说明： userteamjointeamkillrate = (user kills+assists) / (userteam kills)）
  - 第一名 + 10
  - 第二名 + 5
  - 第四名 - 5
  - 第五名 - 10
- 金钱比 (说明：获取金币的排名, user goldEarned ranking )
  - 第一名 + 10
  - 第二名 + 5
  - 第四名并且不是辅助 - 5 (说明：user goldEarned rank 4th  and individualPosition not support loss 5 points )
  - 第五名并且不是辅助 - 10
- 伤害比 (说明： 对英雄造成的伤害排名, totalDamageDealtToChampions ranking )
  - 第一名 + 10
  - 第二名 + 5
- 金钱转化比排名 (说明：金币转换伤害 usergold2hurtrate ranking, (usergold2hurtrate = totaldamagedealttochampions / goldEarned))
  - 第一名 + 10
  - 第二名 + 5
- 视野得分排名 (说明： user visionscore ranking )
  - 第一名 + 10
  - 第二名 + 5     
- 每分钟补兵数 （说明：cs per mins, (cs per mins = totalminionskilled / gameduration minute) 9>每分钟补兵>=8时，+5分, ）
  - 8 + 5
  - 9 + 10
  - 9 + 20
- kda
  - 击杀占比相关
    - 击杀占比 > 50%   （说明：击杀占比为userkills_participants_rate, (userkills_participants_rate = userkills / userteam kills),当击杀占比>50%时，击杀>5人，+10分，后续规则以此类推）
      - 击杀 > 5 + 10
      - 击杀 > 10 + 20
      - 击杀 > 15 + 40
    - 击杀占比 > 40%
      - 击杀 > 5 + 5
      - 击杀 > 10 + 10
      - 击杀 > 15 + 20
  - 伤害占比相关
    - 伤害占比 > 40%
      - 击杀 > 5 + 10
      - 击杀 > 10 + 20
      - 击杀 > 15 + 40
    - 伤害占比 > 30%
      - 击杀 > 5 + 5
      - 击杀 > 10 + 10
      - 击杀 > 15 + 20
  - 助攻占比相关
    - 助攻占比 > 50%
      - 助攻 > 5 + 5
      - 助攻 > 10 + 10
      - 助攻 > 15 + 20
      - 助攻 > 18 + 25
      - 助攻 > 20 + 30
    - 助攻占比 > 40%
      - 助攻 > 5 + 3
      - 助攻 > 10 + 5
      - 助攻 > 15 + 15
      - 助攻 > 20 + 20
- 微调
  - 总分 + (kill+assist)/death -2 + (kill-death)/5 * 参团率



## special thanks to `hh-lol-prophet`（https://github.com/real-web-world/hh-lol-prophet） 项目开源计分。